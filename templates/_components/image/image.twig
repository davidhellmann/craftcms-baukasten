{# Set Defaults #}
{% set defaults = {
  cn: 'c-image',

  data: {},
  js: null,
  image: null,
  transform: 'landscape',
  objectFit: null,
  lazy: true,
  calcDominantColor: false,
  noscript: true
} %}

{# Merge Default with Options #}
{% set props = props is defined ? defaults|merge(props) : defaults %}

{# Macros #}
{% import '_macros/_macro-settings.twig' as module %}
{% import '_macros/_macro-imageHelper.twig' as imageHelper %}

{# Image #}
{% if props.image ??? null %}
  {{- imageHelper.renderImage(props.image, props.transform, props.lazy, props.objectFit, props.calcDominantColor) -}}
  {% if props.noscript %}
    {{- imageHelper.renderNoScript(props.image) -}}
  {% endif %}
{% endif %}
